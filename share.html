<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>PinoyTechFeed Â· Share Dashboard</title>
<meta name="robots" content="noindex,nofollow"/>
<style>
:root{--bg:#0b1220;--fg:#e2e8f0;--muted:#94a3b8;--card:#0f172a;--brd:#213048;--accent:#22c55e}
body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial}
header{position:sticky;top:0;background:rgba(11,18,32,.85);backdrop-filter:blur(8px);border-bottom:1px solid var(--brd);padding:12px 16px;z-index:10}
.wrap{max-width:1100px;margin:16px auto;padding:0 16px}
.grid{display:grid;grid-template-columns:1fr;gap:14px}
.card{background:var(--card);border:1px solid var(--brd);border-radius:12px;padding:14px}
.thumb{width:100%;max-height:420px;object-fit:cover;border-radius:10px;border:1px solid var(--brd);background:#0b1220}
.meta{color:var(--muted);font-size:12px;margin:6px 0 10px}
.btn{display:inline-block;border:1px solid var(--brd);background:#0b1324;color:var(--fg);padding:8px 12px;border-radius:10px;text-decoration:none;cursor:pointer;margin:6px 8px 0 0}
.btn:hover{border-color:#375184}
</style>
</head>
<body>
<header><div class="wrap" style="display:flex;justify-content:space-between;align-items:center;gap:8px">
  <h1>ðŸ“£ PinoyTechFeed Â· Share Dashboard</h1>
  <a class="btn" href="/" target="_blank" rel="noopener">Open Site</a>
</div></header>

<main class="wrap">
  <div class="grid" id="list" aria-live="polite">Loadingâ€¦</div>
</main>

<script>
(async function(){
  const FEED_URL = '/feed.xml?v=' + Date.now();
  const list = document.getElementById('list');

  const res = await fetch(FEED,{cache:'no-store'});
  const text = await res.text();
  const xml  = new DOMParser().parseFromString(text,'application/xml');
  const items = [...xml.querySelectorAll('item')].map(x=>{
    const get = tag => x.querySelector(tag)?.textContent?.trim() || '';
    const link = get('link');            // /p/â€¦ (our page)
    const title = get('title');
    const date = get('pubDate');
    const src  = get('source');
    const cat  = get('category');
    const enc  = x.querySelector('enclosure')?.getAttribute('url') || '';
    const og   = enc ? 'https://wsrv.nl/?url='+encodeURIComponent(enc)+'&w=1200&h=630&fit=cover&output=jpg' : '';
    return {title, link, date, src, cat, img: og};
  });

  const html = items.map(it=>`
    <article class="card">
      ${it.img?`<img class="thumb" src="${it.img}" alt="">`:''}
      <h2 style="margin:10px 0 6px"><a href="${it.link}" target="_blank" rel="noopener">${it.title}</a></h2>
      <div class="meta">${new Date(it.date).toLocaleString()} Â· Category: ${it.cat} Â· Source: ${it.src}</div>
      <div>
        <button class="btn" data-copy="${encodeURIComponent(`${it.title} â€” Read more: ${it.link} #PinoyTechFeed`)}">Copy caption</button>
        <button class="btn" data-copy="${encodeURIComponent(it.link)}">Copy site link</button>
      </div>
    </article>
  `).join('');
  list.innerHTML = html || '<div class="meta">No items found.</div>';

  [...document.querySelectorAll('button[data-copy]')].forEach(b=>{
    b.addEventListener('click', async ()=>{
      const t = decodeURIComponent(b.getAttribute('data-copy'));
      try { await navigator.clipboard.writeText(t); b.textContent='Copied!'; setTimeout(()=>b.textContent='Copy caption',1200); }
      catch { prompt('Copy this:', t); }
    });
  });
})();
</script>
</body>
</html>